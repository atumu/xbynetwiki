title: 开发规范 

#  开发规范 
##  代码版本管理 

采用SVN
提交规范
1.	只能提交 src文件夹 和 pom文件；
2.	禁止提交任何工程配置文件，如：.settings、target、.classpath、.project；
3.	每次提交必须填写提交说明信息。
##  WEB工程属性说明 

web工程必须支持servlet3.0标准，在web.xml如下配置：
```

<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://java.sun.com/xml/ns/javaee"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
	version="3.0">

```
##  java包划 
根目录：	com.css
产品目录： 	com.css.sword.产品名称			已有命名规则
项目目录： 	com.css.项目名称				项目组自定义规则
com.开发公司名称.版权所属机构名称.产品项目名称.模块名称.架构定义包结构
说明：
第一级包名称统一采用 com；
第二级包名称统一采用中软公司名称 css；
第三级包名称统一采用代码版权所属机构名称，如软件交付中心自主产品，用 sword，如果甲方项目要求拥有代码版权，则第三级目录使用甲方机构名称，如中国文联cflac；
第四级包名称使用产品或者项目名称，由软件交付中心定义和维护，不可重复；
第五级包名称由开发项目组定义，划分模块名；
第六级报名称由开发架构定义，开发项目组进行取舍。
java代码的业务代码与测试代码划分到同一个包里，通过源文件夹的方式划分到两个物理位置。

##  目录结构说明 

使用Project Explorer视图，业务代码只保存在绿色文字的目录位置。
```

project-root
|--src
|----|----main
|----|----|----java						所有java代码
|----|----|----resources					系统所有配置文件
|----|----|----webapp					web工程根目录
|----|----|----|----static					静态资源文件
|----|----|----|----|----wyjg				应用系统的名称
|----|----|----|----|----|----public			公共资源
|----|----|----|----|----|----|----css		
|----|----|----|----|----|----|----image
|----|----|----|----|----|----|----js
|----|----|----|----|----|----模块name		子系统或者模块的文件夹，包括业务功能的js 
|----|----|----|----|----lib					前端引入的第三方组件库，如jquery等
|----|----|----|----WEB-INF
|----|----|----|----|----wyjg				应用系统名称，放置所有Jsp页面
|----|----|----|----|----|----模块name		按照模块文件夹组织Jsp文件
|----|----test							测试用例相关代码，目录结构基本与 main相同
|----|----demo							示例代码，生产环境不用部署，供开发使用


```
##  代码模板 

1.	导入模板
Eclipse – Preferences-Java – Code Template
Comments – Import
 
导入后点击 “Apply” “OK”
2.	说明
导入模板后，创建新的java 类时，会在文件头增加项目信息；
在类名、属性、方法前增加注释信息

##  注释规范 
javadoc 标记由“@”及其后所跟的标记类型和专用注释引用组成
javadoc 标记有如下一些：
@author 标明开发该类模块的作者
@version 标明该类模块的版本
@see 参考转向，也就是相关主题
@param 对方法中某参数的说明
@return 对方法返回值的说明
@exception 对方法可能抛出的异常进行说明

在注释信息中**使用 <br> 进行换行；**
类名、属性名、方法名之前的注释必须使用
```

/**(双星号)……..*/

``` 进行注释，模板会自动生成。若创建时未自动生成注释模板，在属性或者方法上手动输入“英文斜线+双星号+回车”，就可以自动生成注释模板；
类名前的注释信息，由创建者补充功能描述信息，由修改者每次增加修改记录，**修改记录的内容包括：修改内容、修改人、修改时间。两次修改记录之前使用<br>换行；**
全局属性必须增加功能说明；
方法注释必须补充功能说明、输入、输出变量的意义；
在方法内容如果需要增加注释，单行或者多行注释都必须使用“斜线+单星号”进行注释，禁止使用双斜线注释。
2.	Xml注释
在需要注释的代码上一行使用 <!--注释信息-->
##  命名规范 
1.	变量名称
常量：全大写字符+下横线；
变量：驼峰式命名， 小写字符开头，只能包括英文字母；
类名：驼峰式命名， 大写字符开头，只能包括英文字母；
方法：驼峰式命名， 小写字符开头，只能包括英文字母；
文件：驼峰式命名， 小写字符开头，只能包括英文字母。
2.	数据库
数据库对象命名：不区分大小写，全大写或者全小写英文字母，采用下横线分割，禁止使用驼峰式命名；
考虑到开发的方便性，建议采用全小写英文字母，oracle会自动转换为全大写，不影响使用；
**表名称命名规则： 产品名称_模块简称_功能简称；**
列名称命名规则：全小写英文字符，中间用下横线分割，禁止使用id,name,uuid之类的通用名词，**可以使用 user_id,user_name,user_uuid之类的列名称。**
##  数据库脚本（项目中后期开始施行） 

在` webapp/web-info/sql-scripts `文件夹在保存sql脚本文件；
文件命名规则：
**yyyyMMddHHmmss-模块名称-功能说明-开发人员.sql；**
示例：
20140929140400-开发Demo-初始化添加demo表-刘占山.sql；
说明：
第一段信息是为了排序用，集成测试环境和生产环境会按照这个顺序执行sql脚本，
若失败，则后面的脚本都不执行；
本地修改数据库结构，初始化数据，编写sql脚本，存成这个文件，等待集成环境执行；
禁止手动修改集成测试数据库和生产数据库；
**在sql文件的头部使用/*********/ 填写注释信息；**
每个sql文件除非集成环境运行出错，否则禁止修改，若要修改数据库结构，采用alter方式创建新的sql文件。
##  JAVA代码检查规则 

当前java代码检查使用 CheckStyle 工具
##  配置文件 

配置文件统一放到**resource目录**，直接编译到classes根目录。配置文件的命名和划分考虑两个问题：
1.	本地开发环境，集成测试环境，正式生产环境 所需要的配置文件内部不一定完全相同，需要在编译打包的时候根据部署环境编译正确的配置文件。
2.	各个产品或者项目在开发时各自独立开发，运行时可能打包到一个webapp部署，需要防止配置文件的命名冲突的问题。
为了解决这两个问题，**resource根目录下按照运行环境分成多个子目录，如：localhsot、product、test等，**与运行环境无关的配置文件直接放在rescource根目录，与运行环境相关的配置文件以相同的文件名称在所有的运行环境子目录各放一份，最终由打包部署脚本根据具体的运行环境进行选择打包。**多产品命名冲突的问题**要求配置文件在命名时必须明确此文件的功能，尽量减少comm、app、core等“公用或者通用”字样作为配置文件名称。
##  其他 

前端代码规范来源于BaiDu fex-team
https://github.com/fex-team/styleguide
•	Javascript 编码规范
•	CSS 编码规范
•	HTML 编码规范
